<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>SmaPri Print</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<button onclick="printLabel()">Print Label</button>

<script>
function isIOS() {
    return /iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function printLabel() {

    var formatUrl =
        "https://raw.githubusercontent.com/wingsato/smapri/main/smarpi-NTUC-test.spfmtz";

    var params =
        "__format_id_number=1" +
        "&__format_archive_url=" + encodeURIComponent(formatUrl) +
        "&item_name="   + encodeURIComponent("Apple") +
        "&item_origin=" + encodeURIComponent("USA") +
        "&item_batch="  + encodeURIComponent("B24011601") +
        "&item_price="  + encodeURIComponent("1.50");

    var url;

    if (isIOS()) {
        url = "smapri:/Format/Print?" + params;
    } else {
        url = "http://localhost:8080/Format/Print?" + params;
    }

    window.location.href = url;
}
</script>

</body>
</html>
